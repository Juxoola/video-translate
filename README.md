# Система транскрипции и перевода видео

![Logo](logo.jpg)

## Описание проекта

Система для автоматической транскрипции, перевода и озвучивания видеоматериалов с использованием технологий искусственного интеллекта. Проект представляет собой веб-приложение на основе Gradio, которое позволяет загружать видеофайлы, получать их текстовую расшифровку, переводить субтитры на разные языки и создавать новое видео с переведенными субтитрами и озвучкой.

## Основные функции

- **Транскрипция видео** с помощью модели Faster-Whisper
- **Генерация субтитров** в формате VTT
- **Перевод субтитров** на различные языки (английский, немецкий, французский, испанский, итальянский, японский, китайский, русский)
- **Клонирование голоса** из оригинального видео для озвучки перевода с использованием XTTS
- **Создание видео с переводом**, включающего:
  - Переведенные субтитры
  - Озвучку перевода голосом, похожим на оригинальный
  - Автоматическую синхронизацию аудио и субтитров
- **Поддержка GPU (CUDA)** для ускорения обработки

## Технические особенности

- Автоматическое определение языка в исходном видео
- Адаптация скорости воспроизведения синтезированной речи для соответствия длительности оригинальных фраз
- Автоматическое добавление стоп-кадра для видео, если переведенная аудиодорожка длиннее оригинала
- Обработка с использованием GPU при наличии CUDA
- Возможность редактирования и сохранения субтитров

## Требования к системе

- Python 3.11
- NVIDIA GPU с поддержкой CUDA для оптимальной производительности
- Docker и Docker Compose (для установки через Docker)
- 10+ ГБ свободного места на диске

## Установка и запуск

1. Убедитесь, что установлены Python 3.11 и FFmpeg

2. Клонируйте репозиторий:

   ```
   git clone https://github.com/yourusername/video-translator.git
   cd video-translator
   ```

3. Создайте и активируйте виртуальное окружение:

   ```
   python -m venv venv
   source venv/bin/activate  # для Linux/Mac
   venv\Scripts\activate     # для Windows
   ```

4. Установите зависимости:

   ```
   pip install -r requirements.txt
   ```

5. Запустите приложение:

   ```
   python final_no_sync_copy_gemini3.py
   ```

6. Откройте веб-интерфейс по адресу: http://localhost:7860

## Использование

1. Загрузите видеофайл через веб-интерфейс
2. Нажмите кнопку "Транскрибировать"
3. После завершения транскрипции вы можете просмотреть и отредактировать полученные субтитры
4. Выберите язык перевода из выпадающего списка
5. Нажмите кнопку "Перевести"
6. После обработки вы получите:
   - Переведенные субтитры (можно скачать)
   - Аудиозапись с озвучкой перевода (можно прослушать)
   - Итоговое видео с субтитрами и озвучкой (можно скачать)


## Модели и ресурсы

- **Whisper Large v3** - для транскрипции видео
- **XTTS v2** - для синтеза речи и клонирования голоса
- **Google Translator** - для перевода текста

## Ограничения

- docker пока не работает
- Качество транскрипции может варьироваться в зависимости от качества аудио
- Для больших видеофайлов обработка может занять значительное время
- При использовании CPU скорость обработки будет существенно ниже


